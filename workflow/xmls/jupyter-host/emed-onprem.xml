<tool id='Matthew.Shaxted_interactive_session' name='Matthew.Shaxted_interactive_session'>
  <command interpreter='bash'>main.sh</command>
  <inputs>
  <param name='service_name' label='Service' type='hidden' value='jupyter-host' width='50%_none'></param>
   <section name='service_sec' type='section' title='Jupyter Notebook Settings' expanded='true'>
        <param name='conda_sh' label='Path to conda environment' type='text' value='/gs/gsfs0/hpc01/rhel8/apps/conda3/etc/profile.d/conda.sh' help='Path to use in source /path/to/conda.sh' width='50%_none'></param>
        <param name="conda_install" type="boolean" truevalue="Yes" falsevalue="No" checked="False" label="Install miniconda if not there?" help='Select Yes to install miniconda if the above directory does not exist' width="25%_none" optional='true' float="right">
        </param>
        <param name='conda_env' label='Conda environment (recommended: base)' type='text' value='base' help='Environment to active. The base environment enables changing kernel to other environments!' width='50%_none'></param>
        <param name='password' label='Password for notebook session:' type='text' value='' help='Enter password or leave blank for no password' width='50%_none'></param>
	<param name='notebook_dir' label='Directory to start JupyterHub GUI' type='text' value='/gs/gsfs0/users/__USER__/pw/' help='This is the directory that you start with when the JupyterHub graphical user interface starts.  The default value here is your home directory (automatically inserting your username with the whoami command).' width='100%_none'></param>
   </section>
    <section name='host' type='section' title='Desktop Host' expanded='true'>
      <conditional name="partition_or_controller_cond">
            <param name="partition_or_controller" type="boolean" truevalue="Partition" falsevalue="Controller" checked="True" label="Partition or controller node?" help='Choose to run the service in the controller / login or partition / compute nodes' width="25%_none" optional='true' float="right"></param>
            <when value="Partition">
                <param name='partition' label='Slurm partition:' type='text' help='Partition to submit the interactive job to.' value='normal' width='50%_none'>
                </param>
                <param name='cpus_per_task' label='CPUs per task:' type='integer' min="1" max="10" help='--cpus-per-task=value slurm parameter' value='1' width='50%_none'>
                </param>
                <param name='walltime' label='Walltime' type='text' help='e.g. 01:00:00 - Amount of time slurm will honor the interactive session.' value='01:00:00' width='50%_none'>
                </param>
            </when>
        </conditional>
    </section>
    <section name='advanced_options_other' type='section' title='Advanced Options' expanded='false'>
        <param name='chdir' label='Working directory of the batch script' type='text' value='/gs/gsfs0/users/\$(whoami)/pw/jobs/__job_number__' help='Working directory of the batch script to directory before it is executed' width='50%_none'>
        </param>
    </section>
  </inputs>
  <outputs>
  </outputs>
</tool>
